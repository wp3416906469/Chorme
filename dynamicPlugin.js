!function(_){function e(e){for(var t,a,o=e[0],c=e[1],i=e[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(t in c)Object.prototype.hasOwnProperty.call(c,t)&&(_[t]=c[t]);for(u&&u(e);d.length;)d.shift()();return s.push.apply(s,i||[]),r()}function r(){for(var _,e=0;e<s.length;e++){for(var r=s[e],t=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(t=!1)}t&&(s.splice(e--,1),_=a(a.s=r[0]))}return _}var t={},n={4:0},s=[];function a(e){if(t[e])return t[e].exports;var r=t[e]={i:e,l:!1,exports:{}};return _[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=_,a.c=t,a.d=function(_,e,r){a.o(_,e)||Object.defineProperty(_,e,{enumerable:!0,get:r})},a.r=function(_){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},a.t=function(_,e){if(1&e&&(_=a(_)),8&e)return _;if(4&e&&"object"==typeof _&&_&&_.__esModule)return _;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:_}),2&e&&"string"!=typeof _)for(var t in _)a.d(r,t,function(e){return _[e]}.bind(null,t));return r},a.n=function(_){var e=_&&_.__esModule?function(){return _.default}:function(){return _};return a.d(e,"a",e),e},a.o=function(_,e){return Object.prototype.hasOwnProperty.call(_,e)},a.p="/";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var i=0;i<o.length;i++)e(o[i]);var u=c;s.push([997,0]),r()}({997:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(26),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(168),core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(50),core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(17),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(24),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(41),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(51),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_string_starts_with__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(114),core_js_modules_es_string_starts_with__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_string_starts_with__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(32),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(115),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_12__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(75),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_13__);function _toConsumableArray(_){return _arrayWithoutHoles(_)||_iterableToArray(_)||_unsupportedIterableToArray(_)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(_,e){if(_){if("string"==typeof _)return _arrayLikeToArray(_,e);var r=Object.prototype.toString.call(_).slice(8,-1);return"Object"===r&&_.constructor&&(r=_.constructor.name),"Map"===r||"Set"===r?Array.from(_):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(_,e):void 0}}function _iterableToArray(_){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(_))return Array.from(_)}function _arrayWithoutHoles(_){if(Array.isArray(_))return _arrayLikeToArray(_)}function _arrayLikeToArray(_,e){(null==e||e>_.length)&&(e=_.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=_[r];return t}function asyncGeneratorStep(_,e,r,t,n,s,a){try{var o=_[s](a),c=o.value}catch(_){return void r(_)}o.done?e(c):Promise.resolve(c).then(t,n)}function _asyncToGenerator(_){return function(){var e=this,r=arguments;return new Promise((function(t,n){var s=_.apply(e,r);function a(_){asyncGeneratorStep(s,t,n,a,o,"next",_)}function o(_){asyncGeneratorStep(s,t,n,a,o,"throw",_)}a(void 0)}))}}!function(){var __csdn={};window.customReportHref="https://plugin.csdn.net/packages/search-box/index.html",__csdn._getScriptAndStyle=function(_,e){if(e){var r={};return[/<link\s+[^>]*stylesheet[^>]*href=['"]([^'"]+)['"][^>]*>/gim,/<script[^>]*src=['"]([^'"]+)['"][^>]*>\s*?<\/[^>]*script>/gim].forEach((function(_){e=e.replace(_,(function(_,e){var t=e,n=e;if(-1!==e.indexOf("?")){var s=e.split("?");s.pop(),e=s.join("")}if(/^\./.test(e)||(e="".concat(e),n="".concat(n)),"../static/js/navbar.js"!==e){var a="".concat(t),o=/<script/.test(_)?"js":"css";r[o]=r[o]||[],r[o].push([e,n,a])}return""}))})),["js","css"].forEach((function(_){r[_]&&(r[_]=r[_].map((function(_){var e=_.pop(),r=__csdn.getUrl(e);return[r,r]})))})),{html:e=e.replace(/<body/gm,"<body browser-extension").replace(/<div\s+class="mod-pageheader">.*<\/div>\s*<div\sclass="panel\spanel-default"/gm,'<div class="panel panel-default"').replace(/<div\sid="pageFooter"\s+[^>]+>\s*<script\s.*<\/script>\s*<\/div>/gm,"").replace(/<script[^>]*>.*(?=<\/script>)<\/script>/gi,"").replace(/<\/body>/,(function(){return Object.keys(r).map((function(_){return'<dynamic data-type="'.concat(_,'" data-source="').concat(r[_].map((function(_){return _[1]})).join(","),'"></dynamic>')})).join("")+"</body>"})),jsCss:r}}},__csdn.ajax=function(_,e){return new Promise((function(r,t){var n=new XMLHttpRequest;n.open("get",/^(http|https|chrome-extension)/.exec(_)?_:"http://"+_,!0),n.onreadystatechange=function(){4===n.readyState&&200===n.status?(e(n.responseText),r()):4===n.readyState&&200!==n.status&&t()},n.send()}))},__csdn._sendScript=function(_){return __csdn.ajax(_,(function(_){window.eval(_)}))},__csdn._sendCss=function(_){return __csdn.ajax(_,(function(_){var e=document.createElement("style");e.textContent=_,document.head.appendChild(e)}))},__csdn.getUrl=function(_){var e=chrome.runtime.getURL("/");return"string"!=typeof _||_.startsWith("http")?_:e+(_.startsWith("/")?_.substr(1):_)},__csdn.__savePage=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref){var _ref$content,html,css,js,name,newHtml,_newHtml$jsCss,_newHtml$jsCss$js,_js,_newHtml$jsCss$css,_css,i,item,style;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_ref$content=_ref.content,html=_ref$content.html,css=_ref$content.css,js=_ref$content.js,name=_ref.name,!html){_context.next=21;break}return newHtml=__csdn._getScriptAndStyle("",html),document.getElementById("app").innerHTML=newHtml.html,_newHtml$jsCss=newHtml.jsCss,_newHtml$jsCss$js=_newHtml$jsCss.js,_js=void 0===_newHtml$jsCss$js?[]:_newHtml$jsCss$js,_newHtml$jsCss$css=_newHtml$jsCss.css,_css=void 0===_newHtml$jsCss$css?[]:_newHtml$jsCss$css,_context.next=7,Promise.all(_toConsumableArray(_css.map((function(_){var e=_.pop();return __csdn._sendCss(e)})))).catch((function(_){console.log(_)}));case 7:_context.prev=7,i=0;case 9:if(!(i<_js.length)){_context.next=16;break}return item=_js[i].pop(),_context.next=13,__csdn._sendScript(item);case 13:i++,_context.next=9;break;case 16:_context.next=21;break;case 18:_context.prev=18,_context.t0=_context.catch(7),console.warn("载入js资源失败, 请检查script标签URL是否正确");case 21:css&&(style=document.createElement("style"),style.textContent=css,document.head.appendChild(style)),js&&eval(js),name&&(document.title=name);case 24:case"end":return _context.stop()}}),_callee,null,[[7,18]])})));return function(_){return _ref2.apply(this,arguments)}}(),__csdn.urlParamsToObj=function(_){var e={},r=location.href.split("?");return(_=_||(r&&r.length>1?r[1]:"")).replace(/([^=&#]+)=([^&#]*)/g,(function(){e[arguments[1]]=arguments[2]})),e};var queryObj=__csdn.urlParamsToObj(),pluginId=queryObj.pluginId;if("edit"===pluginId){var editPagesData=chrome.extension.getBackgroundPage().Settings.get("editPagesData");editPagesData&&__csdn.__savePage(editPagesData)}else if(pluginId){var webPagesMap=chrome.extension.getBackgroundPage().Settings.get("webPagesMap"),data=webPagesMap.find((function(_){return _.pluginId===pluginId}));data&&__csdn.__savePage(data);var extra={type:"webPage",name:data.name,pluginId:data.pluginId||""};queryObj.query&&(extra.keyword=queryObj.query||"");var dataReportView={spm:"1021.2146.3001.5698",extra:JSON.stringify(extra)};csdn.report.reportView(dataReportView)}else document.body.innerHTML="未找到页面"}()}});