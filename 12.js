(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1162:function(t,e,o){t.exports=o.p+"images/newTab/assets/img/color-checked.png"},1163:function(t,e,o){},1166:function(t,e,o){},1167:function(t,e,o){"use strict";o(1163)},1168:function(t,e,o){"use strict";o(26),o(39),o(97);function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}var n={data:()=>({colorList:["rgb(255, 255, 255)","rgb(61, 177, 166)","rgb(245, 166, 35)","rgb(18, 150, 219)","rgb(247, 135, 104)","rgb(179, 135, 246)","rgb(60, 69, 99)","rgb(34, 34, 38)"]}),computed:{isPresupposition(){return this.colorList.indexOf(this.value)>-1}},components:{VColorPopover:o(401).a},props:{value:{default:"rgb(255, 255, 255)",type:String},firstColor:{type:String,default:""}},methods:{colorSelect(t){this.$emit("on-select",t)}},mounted(){this.firstColor&&(this.colorList=[this.firstColor].concat(r(this.colorList.slice(1))))}},s=(o(1167),o(8)),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"site_fontIcon"},[r("ul",{staticClass:"site_color_list"},[t._l(t.colorList,(function(e){return r("li",{key:e,class:["site_color",{site_color_check:t.value===e}],style:{"background-color":e},on:{click:function(o){return t.$emit("on-select",e)}}},[r("img",{attrs:{src:o(1162),alt:""}})])})),t._v(" "),r("li",{staticClass:"site_color"},[r("VColorPopover",{staticClass:"v-color-popover",attrs:{value:t.value,position:"bottom",customClass:"favicon-popover-color",withSuggestions:!1},on:{change:t.colorSelect}},[r("li",{class:["site_color","gradient_color",{site_color_check:!t.isPresupposition}]},[r("img",{attrs:{src:o(1162),alt:""}})])])],1)],2)])}),[],!1,null,null,null);e.a=a.exports},1169:function(t,e,o){"use strict";o(1166)},1171:function(t,e,o){"use strict";o(37),o(26),o(22),o(28),o(39),o(42),o(114),o(32);var r=o(1168),i=o(400),n=o(49),s=o(441);function a(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function c(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var l={data:()=>({active:0,color:"rgb(204, 204, 204)",uploadImg:"",hostUrl:"".concat(i.a.faviconUrl,"?url=")}),props:{logo:{default:"",type:String},logoType:{default:"",type:String},name:{default:"",type:String},url:{default:"",type:String}},watch:{url:{handler(t){if(this.logo&&this.logo.startsWith("chrome://"))this.hostUrl=this.logo;else if(t){var e=document.createElement("a");e.href=t.indexOf("http")>-1?this.url:"https://".concat(this.url),this.hostUrl="".concat(i.a.faviconUrl,"?url=https://").concat(e.hostname)}else this.hostUrl="".concat(i.a.faviconUrl,"?url=https://")},immediate:!0}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach((function(e){c(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(n.c)({userInfo:"user/userInfo"})),components:{ColorBlock:r.a,IconUpload:s.a},methods:{imgUploadComplete(t){this.uploadImg=t},setActive(t){this.active=t},reset(){this.active=0,this.color="rgb(204, 204, 204)",this.uploadImg=""},selectColor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb(204, 204, 204)";this.color=t},getResult(){var t=null;switch(this.active){case 0:t="web";break;case 1:t="text";break;case 2:t="image";break;default:t="image"}var e="web"===t||"text"===t;return{src:this.uploadImg||this.logo,html:e?this.$el.querySelector(".site_favicon li.active").children[0].outerHTML:"",logoType:t}}}},u=(o(1169),o(8)),p=Object(u.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("ul",{staticClass:"site_favicon"},[o("li",{class:["upload_site_icon icon-sprite",{active:0===t.active}],on:{click:function(e){t.active=0}}},[o("div",{staticClass:"fontLink",style:{background:t.color}},[o("span",[t.url?o("img",{attrs:{src:t.hostUrl}}):t._e()])])]),t._v(" "),o("li",{class:["font_text",{active:1===t.active}],on:{click:function(e){t.active=1}}},[o("div",{staticClass:"font_box",style:{"font-size":"30px",background:t.color}},[o("font",{staticClass:"text",staticStyle:{height:"30px"}},[t._v(t._s(t.name.toUpperCase().slice(0,2)))])],1)]),t._v(" "),o("li",{class:[{active:2===t.active}]},[o("IconUpload",{attrs:{logo:t.logo},on:{choose:function(e){t.active=2},upload:t.imgUploadComplete}})],1)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0===t.active,expression:"active === 0"}],staticClass:"favicon-url"},[o("p",[t._v("图标URL：")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.hostUrl,expression:"hostUrl"}],attrs:{type:"text"},domProps:{value:t.hostUrl},on:{input:function(e){e.target.composing||(t.hostUrl=e.target.value)}}})]),t._v(" "),o("ColorBlock",{directives:[{name:"show",rawName:"v-show",value:2!==t.active,expression:"active !== 2"}],attrs:{"first-color":"rgb(204, 204, 204)"},on:{"on-select":t.selectColor},model:{value:this.color,callback:function(e){t.$set(this,"color",e)},expression:"this.color"}})],1)}),[],!1,null,null,null);e.a=p.exports},1180:function(t,e,o){},1200:function(t,e,o){"use strict";o(1180)},1243:function(t,e,o){"use strict";o.r(e);o(37),o(22),o(28),o(39),o(42),o(51),o(283),o(32);var r=o(53),i=o.n(r),n=o(1171),s=o(25);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var o=[],r=!0,i=!1,n=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);r=!0);}catch(t){i=!0,n=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw n}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){p(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function p(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var f={data:()=>({id:"",url:"",name:"",logo:"",logoType:"",index:null,type:"",sourceData:{}}),components:{Favicon:n.a},props:{display:{default:!1,type:Boolean}},watch:{display(t){t||this.$refs.favRefEdit&&this.$refs.favRefEdit.reset()}},methods:{setData(t){var e=this,o=t.data,r=t.index;if(this.sourceData=o,this.name=o.name,this.url=o.url.trim(),this.logo=o.src,this.logoType=o.logoType,this.type=o.type||"",this.index=r,this.id=o.id,"image"!==o.logoType){var i=$(o.html).css("background");this.$refs.favRefEdit.selectColor(i)}else this.$refs.favRefEdit.selectColor();var n=["web","text","image"].indexOf(o.logoType)||0;this.$nextTick((function(){e.$refs.favRefEdit.setActive(n)}))},addCustomIcon(){var t=this.$refs.favRefEdit.getResult(),e=t.src,o=t.html,r=t.logoType;if(this.url&&this.name)if("image"!==r||e){var i=u(u({},this.sourceData),{},{id:this.id,logoType:r,name:this.name,url:this.url,src:e,html:o});this.iconsReplace(i)}else this.$message.warn("请先上传图片");else this.$message.warn("请填写完整")},iconsReplace(t){var e=i()(s.a.get("tab-icons")),o=a(this.index.split("-"),3),r=o[0],n=o[1],c=o[2];void 0===c?e[r][n]=t:e[r][n].children[c]=t,s.a.set("tab-icons",e),this.$store.commit("config/set",{key:"tab-icons",val:e}),this.$emit("close")}}},g=(o(1200),o(8)),m=Object(g.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"module-edit"}},[o("div",{staticClass:"custom-add"},[o("div",{staticClass:"custom-form"},[o("p",[t._v("网址：")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.url,expression:"url",modifiers:{trim:!0}}],attrs:{disabled:"webPage"===t.type,type:"text",placeholder:"请输入网址"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),o("p",[t._v("名称：")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"请输入名称"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"custom-favicon"},[o("Favicon",{key:t.url,ref:"favRefEdit",attrs:{logoType:t.logoType,name:t.name,url:t.url,logo:t.logo}})],1),t._v(" "),o("div",{staticClass:"btn-groups"},[o("button",{on:{click:function(e){return e.stopPropagation(),t.$emit("close")}}},[t._v("取消")]),t._v(" "),o("button",{on:{click:function(e){return e.stopPropagation(),t.addCustomIcon(e)}}},[t._v("确定")])])])])}),[],!1,null,null,null);e.default=m.exports},441:function(t,e,o){"use strict";o(50),o(17),o(24),o(115),o(222);var r=o(577),i=o(400),n=o(11),s=o(615),a=o.n(s),c={data:()=>({updateVisible:!1,previews:{},previewStyle:{},option:{type:"blob",img:"",outputSize:1,outputType:"png",autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!1,centerBox:!1,high:!0,canMoveBox:!0,mode:"cover"}}),components:{VueCropper:r.VueCropper},props:{logo:{type:String,default:""}},computed:{logoUrl(){return this.logo||a.a}},methods:{downloadImg(t){this.getCropResult("blob").then((function(t){var e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download",+new Date+""),e.click()}))},realTime(t){var e=t;this.previewStyle={width:e.w+"px",height:e.h+"px",overflow:"hidden",margin:"0",zoom:65/e.w},this.previews=t},rotateLeft(){this.$refs.cropper.rotateLeft()},rotateRight(){this.$refs.cropper.rotateRight()},changeScale(t){t=t||1,this.$refs.cropper.changeScale(t)},refreshCrop(){this.$refs.cropper.refresh()},chooseImage(){var t=this;this.$emit("choose"),Object(n.c)("",{maxSize:1048576,type:"blob"===this.option.type?"readAsArrayBuffer":"readAsDataURL"}).then((function(e){200===e.code?(t.option.img=e.data,t.updateVisible=!0,t.$nextTick((function(){t.refreshCrop()}))):t.$message.info(e.message)}))},getCropResult(t){var e=this;return new Promise((function(o){"blob"===t?e.$refs.cropper.getCropBlob((function(t){var e=window.URL.createObjectURL(t);o(e)})):e.$refs.cropper.getCropData((function(t){o(t)}))}))},handleOkUploadImg(){var t=this,e="upload";this.getCropResult().then((function(o){t.$message.loading({content:"上传中...",key:e}),i.a.uploadIcon(o).then((function(o){200===o.code?(setTimeout((function(){t.$message.success({content:"上传成功!",key:e})}),400),t.updateVisible=!1,t.$emit("upload",o.data.url)):t.$message.error({content:"上传失败!",key:e})})).catch((function(){t.$message.error("上传失败")}))}))}}},l=(o(746),o(8)),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"upload-img-icon"},[r("div",{staticClass:"img_box",on:{click:t.chooseImage}},[t.logoUrl&&!t.option.img?r("img",{attrs:{src:t.logoUrl,alt:""}}):t._e(),t._v(" "),t.option.img?r("div",{style:t.previewStyle},[r("div",{style:t.previews.div},[r("img",{style:t.previews.img,attrs:{src:t.previews.url}})])]):t._e(),t._v(" "),t.logoUrl||t.option.img?t._e():r("img",{attrs:{src:o(740),alt:""}})]),t._v(" "),r("a-modal",{staticClass:"upload-img",attrs:{closable:!1,dialogClass:"upload-img-wrap",width:360,maskClosable:!0,cancelText:"取消",okText:"确定"},on:{ok:t.handleOkUploadImg},model:{value:t.updateVisible,callback:function(e){t.updateVisible=e},expression:"updateVisible"}},[r("div",{staticClass:"c-cropper-wrapper"},[r("vueCropper",{ref:"cropper",attrs:{img:t.option.img,outputSize:t.option.outputSize,outputType:t.option.outputType,autoCrop:t.option.autoCrop,autoCropWidth:t.option.autoCropWidth,autoCropHeight:t.option.autoCropHeight,fixedBox:t.option.fixedBox,fixed:!0,centerBox:t.option.centerBox,canMoveBox:t.option.canMoveBox,high:t.option.high,mode:t.option.mode},on:{realTime:t.realTime}})],1),t._v(" "),r("div",{staticClass:"cropper-icons"},[r("div",{staticClass:"cropper-icon-group"},[r("div",{on:{click:function(e){return t.rotateLeft()}}},[r("img",{attrs:{src:o(741),alt:""}})]),t._v(" "),r("div",{on:{click:function(e){return t.rotateRight()}}},[r("img",{attrs:{src:o(742),alt:""}})])]),t._v(" "),r("div",{staticClass:"cropper-icon-group"},[r("div",{on:{click:function(e){return t.changeScale(1)}}},[r("img",{attrs:{src:o(743),alt:""}})]),t._v(" "),r("div",{on:{click:function(e){return t.changeScale(-1)}}},[r("img",{attrs:{src:o(744),alt:""}})])]),t._v(" "),r("div",{staticClass:"cropper-icon-group"},[r("div",{attrs:{shape:"round"},on:{click:function(e){return t.refreshCrop()}}},[r("img",{attrs:{src:o(745),alt:""}})])])])])],1)}),[],!1,null,null,null);e.a=u.exports},614:function(t,e,o){},615:function(t,e,o){t.exports=o.p+"images/newTab/assets/img/plugin-icon.png"},740:function(t,e,o){t.exports=o.p+"images/newTab/assets/img/upload-img.png"},741:function(t,e,o){t.exports=o.p+"images/newTab/assets/img/upload-img/rotate_left.png"},742:function(t,e,o){t.exports=o.p+"images/newTab/assets/img/upload-img/rotate_right.png"},743:function(t,e,o){t.exports=o.p+"images/newTab/assets/img/upload-img/scale_plus.png"},744:function(t,e,o){t.exports=o.p+"images/newTab/assets/img/upload-img/scale_reduce.png"},745:function(t,e,o){t.exports=o.p+"images/newTab/assets/img/upload-img/refresh.png"},746:function(t,e,o){"use strict";o(614)}}]);