(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1162:function(e,t,s){e.exports=s.p+"images/newTab/assets/img/color-checked.png"},1163:function(e,t,s){},1166:function(e,t,s){},1167:function(e,t,s){"use strict";s(1163)},1168:function(e,t,s){"use strict";s(26),s(39),s(97);function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}var o={data:()=>({colorList:["rgb(255, 255, 255)","rgb(61, 177, 166)","rgb(245, 166, 35)","rgb(18, 150, 219)","rgb(247, 135, 104)","rgb(179, 135, 246)","rgb(60, 69, 99)","rgb(34, 34, 38)"]}),computed:{isPresupposition(){return this.colorList.indexOf(this.value)>-1}},components:{VColorPopover:s(401).a},props:{value:{default:"rgb(255, 255, 255)",type:String},firstColor:{type:String,default:""}},methods:{colorSelect(e){this.$emit("on-select",e)}},mounted(){this.firstColor&&(this.colorList=[this.firstColor].concat(i(this.colorList.slice(1))))}},r=(s(1167),s(8)),a=Object(r.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"site_fontIcon"},[i("ul",{staticClass:"site_color_list"},[e._l(e.colorList,(function(t){return i("li",{key:t,class:["site_color",{site_color_check:e.value===t}],style:{"background-color":t},on:{click:function(s){return e.$emit("on-select",t)}}},[i("img",{attrs:{src:s(1162),alt:""}})])})),e._v(" "),i("li",{staticClass:"site_color"},[i("VColorPopover",{staticClass:"v-color-popover",attrs:{value:e.value,position:"bottom",customClass:"favicon-popover-color",withSuggestions:!1},on:{change:e.colorSelect}},[i("li",{class:["site_color","gradient_color",{site_color_check:!e.isPresupposition}]},[i("img",{attrs:{src:s(1162),alt:""}})])])],1)],2)])}),[],!1,null,null,null);t.a=a.exports},1169:function(e,t,s){"use strict";s(1166)},1171:function(e,t,s){"use strict";s(37),s(26),s(22),s(28),s(39),s(42),s(114),s(32);var i=s(1168),n=s(400),o=s(49),r=s(441);function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var l={data:()=>({active:0,color:"rgb(204, 204, 204)",uploadImg:"",hostUrl:"".concat(n.a.faviconUrl,"?url=")}),props:{logo:{default:"",type:String},logoType:{default:"",type:String},name:{default:"",type:String},url:{default:"",type:String}},watch:{url:{handler(e){if(this.logo&&this.logo.startsWith("chrome://"))this.hostUrl=this.logo;else if(e){var t=document.createElement("a");t.href=e.indexOf("http")>-1?this.url:"https://".concat(this.url),this.hostUrl="".concat(n.a.faviconUrl,"?url=https://").concat(t.hostname)}else this.hostUrl="".concat(n.a.faviconUrl,"?url=https://")},immediate:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(o.c)({userInfo:"user/userInfo"})),components:{ColorBlock:i.a,IconUpload:r.a},methods:{imgUploadComplete(e){this.uploadImg=e},setActive(e){this.active=e},reset(){this.active=0,this.color="rgb(204, 204, 204)",this.uploadImg=""},selectColor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb(204, 204, 204)";this.color=e},getResult(){var e=null;switch(this.active){case 0:e="web";break;case 1:e="text";break;case 2:e="image";break;default:e="image"}var t="web"===e||"text"===e;return{src:this.uploadImg||this.logo,html:t?this.$el.querySelector(".site_favicon li.active").children[0].outerHTML:"",logoType:e}}}},u=(s(1169),s(8)),p=Object(u.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("ul",{staticClass:"site_favicon"},[s("li",{class:["upload_site_icon icon-sprite",{active:0===e.active}],on:{click:function(t){e.active=0}}},[s("div",{staticClass:"fontLink",style:{background:e.color}},[s("span",[e.url?s("img",{attrs:{src:e.hostUrl}}):e._e()])])]),e._v(" "),s("li",{class:["font_text",{active:1===e.active}],on:{click:function(t){e.active=1}}},[s("div",{staticClass:"font_box",style:{"font-size":"30px",background:e.color}},[s("font",{staticClass:"text",staticStyle:{height:"30px"}},[e._v(e._s(e.name.toUpperCase().slice(0,2)))])],1)]),e._v(" "),s("li",{class:[{active:2===e.active}]},[s("IconUpload",{attrs:{logo:e.logo},on:{choose:function(t){e.active=2},upload:e.imgUploadComplete}})],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active === 0"}],staticClass:"favicon-url"},[s("p",[e._v("图标URL：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.hostUrl,expression:"hostUrl"}],attrs:{type:"text"},domProps:{value:e.hostUrl},on:{input:function(t){t.target.composing||(e.hostUrl=t.target.value)}}})]),e._v(" "),s("ColorBlock",{directives:[{name:"show",rawName:"v-show",value:2!==e.active,expression:"active !== 2"}],attrs:{"first-color":"rgb(204, 204, 204)"},on:{"on-select":e.selectColor},model:{value:this.color,callback:function(t){e.$set(this,"color",t)},expression:"this.color"}})],1)}),[],!1,null,null,null);t.a=p.exports},1172:function(e,t,s){e.exports=s.p+"images/newTab/assets/img/staus-enable.png"},1173:function(e,t,s){e.exports=s.p+"images/newTab/assets/img/staus-disable.png"},1174:function(e,t,s){e.exports=s.p+"images/newTab/assets/img/add.png"},1177:function(e,t,s){},1198:function(e,t,s){"use strict";s(1177)},1242:function(e,t,s){"use strict";s.r(t);s(37),s(26),s(22),s(28),s(39),s(60),s(224),s(42),s(32);var i=s(53),n=s.n(i),o=s(49),r=s(25),a=s(1171),c=s(11);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){p(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var g={data:()=>({enginessName:"",enginessUrl:"",isOpenEnginess:!1}),props:{display:{type:Boolean,default:!1}},watch:{display(e){e||this.reset()}},components:{Favicon:a.a},computed:u(u({},Object(o.c)("config",{tabSearches:"tab-searches"})),{},{allEnginess(){var e=n()(this.tabSearches.customEngines)||[];return this.tabSearches.all&&this.tabSearches.all.length?this.tabSearches.all.concat(e.map((function(e){return u(u({},e),{},{type:"custom"})}))):[]},isEditing(){return this.enginessName||this.enginessUrl}}),methods:{handleOpenEnginessClick(e){e.stopPropagation(),this.isOpenEnginess=!0},handleCloseEnginessClick(e){e.stopPropagation(),this.isOpenEnginess=!1},editEnginessSPM(e){if(e){var t=JSON.stringify({name:e.name,status:e.enable?"禁用":"启用"});return{spm:this.SPM.editSearchEnginess,extra:t}}},handleDeleteIconClick(e){var t=n()(this.tabSearches);t.customEngines=t.customEngines.filter((function(t){return t.id!==e}))||[],r.a.set("tab-searches",t)},addCustomEnginess(){if(this.enginessName&&this.enginessUrl)if(-1!==this.enginessUrl.indexOf("%s")){var e=this.enginessUrl;0!==e.indexOf("http")&&(e="http://"+e);var t=this.$refs.favRef.getResult(),s=t.src,i=t.html,n=t.logoType;if("image"!==n||s){var o=[].concat(this.tabSearches.customEngines||[]);Object(c.l)({spm:this.SPM.addSearchEnginess,extend1:this.enginessName}),o.push({name:this.enginessName,id:(o.length?o.length+1:1)+"_custom",enable:!0,logo:s,html:i,logoType:n,url:e}),r.a.set("tab-searches",Object.assign({},this.tabSearches,{customEngines:o})),this.reset()}else this.$message.warn("请上传图片")}else this.$message.warn("url格式错误");else this.$message.warn("请填写完整")},reset(){this.enginessName="",this.enginessUrl="",this.active=0},changeEnginessStatus(e,t){var s=t.indexOf("_custom")>-1?"customEngines":"all",i=[].concat(this.tabSearches[s]);Object(c.l)(this.editEnginessSPM(i[e])),"customEngines"===s&&(e-=this.tabSearches.all.length);var n=this.tabSearches.all.filter((function(e){return e.enable})).length+this.tabSearches.customEngines.filter((function(e){return e.enable})).length;i[e].enable&&1===n?this.$message.info("至少需要添加一个搜索引擎"):(i[e].enable=!i[e].enable,r.a.set("tab-searches",Object.assign({},this.tabSearches,{[s]:i})))}}},h=(s(1198),s(8)),m=Object(h.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"search-enginess-edit"},[i("div",{staticClass:"enginess-list"},e._l(e.allEnginess,(function(t,n){return i("div",{key:t.id+n,staticClass:"enginess-item"},["image"===t.logoType?i("img",{attrs:{src:t.logo,alt:""}}):i("div",{domProps:{innerHTML:e._s(t.html)}}),e._v(" "),i("div",{staticClass:"enginess-name"},[e._v(e._s(t.name))]),e._v(" "),i("div",{staticClass:"status"},["custom"===t.type?i("img",{staticClass:"close",attrs:{src:s(747),alt:""},on:{click:function(s){return e.handleDeleteIconClick(t.id)}}}):e._e(),e._v(" "),t.enable?i("img",{attrs:{src:s(1172),alt:""},on:{click:function(s){return s.stopPropagation(),e.changeEnginessStatus(n,t.id)}}}):e._e(),e._v(" "),t.enable?e._e():[i("img",{staticClass:"add",attrs:{src:s(1173),alt:"add"},on:{click:function(s){return s.stopPropagation(),e.changeEnginessStatus(n,t.id)}}})]],2)])})),0),e._v(" "),e.isOpenEnginess?i("div",{staticClass:"enginess-form"},[i("div",{staticClass:"enginess-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.enginessName,expression:"enginessName"}],staticClass:"enginess-control enginess-control-name",attrs:{placeholder:"输入名称",type:"text"},domProps:{value:e.enginessName},on:{input:function(t){t.target.composing||(e.enginessName=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"enginess-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.enginessUrl,expression:"enginessUrl"}],staticClass:"enginess-control",attrs:{placeholder:"输入网址（用“ %s ”替代搜索词）",type:"text"},domProps:{value:e.enginessUrl},on:{input:function(t){t.target.composing||(e.enginessUrl=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"enginess-group"},[i("label",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"isEditing"}],staticClass:"enginess-label"},[e._v("图标")]),e._v(" "),i("transition",{attrs:{name:"fade"}},[e.isEditing?i("Favicon",{ref:"favRef",attrs:{name:e.enginessName,url:e.enginessUrl}}):e._e()],1)],1),e._v(" "),i("div",{staticClass:"button-out"},[i("button",{staticClass:"add",on:{click:function(t){return t.stopPropagation(),e.addCustomEnginess(t)}}},[e._v("\n        添加\n      ")]),e._v(" "),i("button",{on:{click:function(t){return t.stopPropagation(),e.handleCloseEnginessClick(t)}}},[e._v("\n        取消\n      ")])])]):i("div",{staticClass:"enginess-form-openBtn",on:{click:function(t){return t.stopPropagation(),e.handleOpenEnginessClick(t)}}},[i("img",{attrs:{src:s(1174),alt:""}}),e._v(" "),i("span",[e._v("自定义添加网址...")])])])}),[],!1,null,null,null);t.default=m.exports},441:function(e,t,s){"use strict";s(50),s(17),s(24),s(115),s(222);var i=s(577),n=s(400),o=s(11),r=s(615),a=s.n(r),c={data:()=>({updateVisible:!1,previews:{},previewStyle:{},option:{type:"blob",img:"",outputSize:1,outputType:"png",autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!1,centerBox:!1,high:!0,canMoveBox:!0,mode:"cover"}}),components:{VueCropper:i.VueCropper},props:{logo:{type:String,default:""}},computed:{logoUrl(){return this.logo||a.a}},methods:{downloadImg(e){this.getCropResult("blob").then((function(e){var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download",+new Date+""),t.click()}))},realTime(e){var t=e;this.previewStyle={width:t.w+"px",height:t.h+"px",overflow:"hidden",margin:"0",zoom:65/t.w},this.previews=e},rotateLeft(){this.$refs.cropper.rotateLeft()},rotateRight(){this.$refs.cropper.rotateRight()},changeScale(e){e=e||1,this.$refs.cropper.changeScale(e)},refreshCrop(){this.$refs.cropper.refresh()},chooseImage(){var e=this;this.$emit("choose"),Object(o.c)("",{maxSize:1048576,type:"blob"===this.option.type?"readAsArrayBuffer":"readAsDataURL"}).then((function(t){200===t.code?(e.option.img=t.data,e.updateVisible=!0,e.$nextTick((function(){e.refreshCrop()}))):e.$message.info(t.message)}))},getCropResult(e){var t=this;return new Promise((function(s){"blob"===e?t.$refs.cropper.getCropBlob((function(e){var t=window.URL.createObjectURL(e);s(t)})):t.$refs.cropper.getCropData((function(e){s(e)}))}))},handleOkUploadImg(){var e=this,t="upload";this.getCropResult().then((function(s){e.$message.loading({content:"上传中...",key:t}),n.a.uploadIcon(s).then((function(s){200===s.code?(setTimeout((function(){e.$message.success({content:"上传成功!",key:t})}),400),e.updateVisible=!1,e.$emit("upload",s.data.url)):e.$message.error({content:"上传失败!",key:t})})).catch((function(){e.$message.error("上传失败")}))}))}}},l=(s(746),s(8)),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-img-icon"},[i("div",{staticClass:"img_box",on:{click:e.chooseImage}},[e.logoUrl&&!e.option.img?i("img",{attrs:{src:e.logoUrl,alt:""}}):e._e(),e._v(" "),e.option.img?i("div",{style:e.previewStyle},[i("div",{style:e.previews.div},[i("img",{style:e.previews.img,attrs:{src:e.previews.url}})])]):e._e(),e._v(" "),e.logoUrl||e.option.img?e._e():i("img",{attrs:{src:s(740),alt:""}})]),e._v(" "),i("a-modal",{staticClass:"upload-img",attrs:{closable:!1,dialogClass:"upload-img-wrap",width:360,maskClosable:!0,cancelText:"取消",okText:"确定"},on:{ok:e.handleOkUploadImg},model:{value:e.updateVisible,callback:function(t){e.updateVisible=t},expression:"updateVisible"}},[i("div",{staticClass:"c-cropper-wrapper"},[i("vueCropper",{ref:"cropper",attrs:{img:e.option.img,outputSize:e.option.outputSize,outputType:e.option.outputType,autoCrop:e.option.autoCrop,autoCropWidth:e.option.autoCropWidth,autoCropHeight:e.option.autoCropHeight,fixedBox:e.option.fixedBox,fixed:!0,centerBox:e.option.centerBox,canMoveBox:e.option.canMoveBox,high:e.option.high,mode:e.option.mode},on:{realTime:e.realTime}})],1),e._v(" "),i("div",{staticClass:"cropper-icons"},[i("div",{staticClass:"cropper-icon-group"},[i("div",{on:{click:function(t){return e.rotateLeft()}}},[i("img",{attrs:{src:s(741),alt:""}})]),e._v(" "),i("div",{on:{click:function(t){return e.rotateRight()}}},[i("img",{attrs:{src:s(742),alt:""}})])]),e._v(" "),i("div",{staticClass:"cropper-icon-group"},[i("div",{on:{click:function(t){return e.changeScale(1)}}},[i("img",{attrs:{src:s(743),alt:""}})]),e._v(" "),i("div",{on:{click:function(t){return e.changeScale(-1)}}},[i("img",{attrs:{src:s(744),alt:""}})])]),e._v(" "),i("div",{staticClass:"cropper-icon-group"},[i("div",{attrs:{shape:"round"},on:{click:function(t){return e.refreshCrop()}}},[i("img",{attrs:{src:s(745),alt:""}})])])])])],1)}),[],!1,null,null,null);t.a=u.exports},614:function(e,t,s){},615:function(e,t,s){e.exports=s.p+"images/newTab/assets/img/plugin-icon.png"},740:function(e,t,s){e.exports=s.p+"images/newTab/assets/img/upload-img.png"},741:function(e,t,s){e.exports=s.p+"images/newTab/assets/img/upload-img/rotate_left.png"},742:function(e,t,s){e.exports=s.p+"images/newTab/assets/img/upload-img/rotate_right.png"},743:function(e,t,s){e.exports=s.p+"images/newTab/assets/img/upload-img/scale_plus.png"},744:function(e,t,s){e.exports=s.p+"images/newTab/assets/img/upload-img/scale_reduce.png"},745:function(e,t,s){e.exports=s.p+"images/newTab/assets/img/upload-img/refresh.png"},746:function(e,t,s){"use strict";s(614)},747:function(e,t,s){e.exports=s.p+"images/newTab/assets/img/closeblack.png"}}]);